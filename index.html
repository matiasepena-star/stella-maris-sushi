<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stella Maris Sushi</title>

<style>
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#0b0b0c;
  color:#fff;
}

header{
  position:fixed;
  top:0;
  left:0;
  right:0;
  background:#111;
  padding:15px;
  z-index:1000;
  border-bottom:1px solid #222;
}

header h1{
  margin:0;
  font-size:18px;
}

.tabs{
  margin-top:10px;
  display:flex;
  gap:10px;
}

.tab{
  padding:8px 12px;
  background:#1a1a1a;
  border-radius:8px;
  cursor:pointer;
  font-size:13px;
}

.tab.active{
  background:#333;
}

.note{
  font-size:12px;
  color:#bbb;
  margin-top:8px;
}

.content{
  margin-top:140px;
  margin-bottom:120px;
  padding:15px;
}

.card{
  background:#161616;
  padding:15px;
  border-radius:12px;
  margin-bottom:12px;
}

.card h3{
  margin:0 0 5px 0;
  font-size:16px;
}

.card small{
  color:#aaa;
}

.card button{
  margin-top:10px;
  padding:8px 12px;
  background:#333;
  color:#fff;
  border:none;
  border-radius:6px;
  cursor:pointer;
}

.footer{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:#111;
  padding:10px 15px;
  border-top:1px solid #222;
  display:flex;
  justify-content:space-between;
  align-items:center;
}

.footer button{
  padding:10px 15px;
  background:#caa76a;
  border:none;
  border-radius:8px;
  font-weight:bold;
  cursor:pointer;
}

</style>
</head>
<body>

<header>
  <h1>STELLA MARIS SUSHI</h1>
  <div class="tabs">
    <div class="tab active" onclick="changeTab('combos',this)">Combos</div>
    <div class="tab" onclick="changeTab('rolls',this)">Rolls & Piezas</div>
    <div class="tab" onclick="changeTab('extras',this)">Salsas & Adicionales</div>
  </div>
  <div class="note">
    Todos los pedidos incluyen wasabi, pepino, jengibre y salsa de soja.
  </div>
</header>

<div class="content" id="content"></div>

<div class="footer">
  <div>
    <div id="totalPiezas">Total de piezas: 0</div>
    <div id="totalDinero">Total: $0</div>
  </div>
  <button onclick="enviarPedido()">Confirmar</button>
</div>

<script>
const whatsapp = "5491164194866";

const productos = [
  // Combos
  {id:"c20", nombre:"Combo 20 piezas", piezas:20, precio:30000, tipo:"sushi", categoria:"combos"},
  {id:"c30", nombre:"Combo 30 piezas", piezas:30, precio:45000, tipo:"sushi", categoria:"combos"},

  // Rolls
  {id:"phila", nombre:"Philadelphia", piezas:5, precio:9000, tipo:"sushi", categoria:"rolls"},
  {id:"newyork", nombre:"New York", piezas:5, precio:9000, tipo:"sushi", categoria:"rolls"},
  {id:"california", nombre:"California", piezas:5, precio:8500, tipo:"sushi", categoria:"rolls"},

  // Extras
  {id:"soja", nombre:"Salsa de soja", piezas:0, precio:850, tipo:"extra", categoria:"extras"},
  {id:"maracuya", nombre:"Salsa Maracuy√°", piezas:0, precio:1500, tipo:"extra", categoria:"extras"},
  {id:"guacamole", nombre:"Guacamole", piezas:0, precio:850, tipo:"extra", categoria:"extras"}
];

let carrito = {};
let categoriaActual = "combos";

function changeTab(cat,el){
  categoriaActual = cat;
  document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
  el.classList.add('active');
  render();
}

function render(){
  const cont = document.getElementById("content");
  cont.innerHTML="";
  productos.filter(p=>p.categoria===categoriaActual)
  .forEach(p=>{
    cont.innerHTML += `
      <div class="card">
        <h3>${p.nombre}</h3>
        <small>${p.tipo==="sushi"?"x"+p.piezas:"Unidad"}</small><br>
        <strong>$${p.precio}</strong><br>
        <button onclick="agregar('${p.id}')">Agregar</button>
      </div>
    `;
  });
}

function agregar(id){
  carrito[id]=(carrito[id]||0)+1;
  actualizarTotales();
}

function actualizarTotales(){
  let total=0;
  let piezas=0;

  for(let id in carrito){
    const prod=productos.find(p=>p.id===id);
    total+=prod.precio*carrito[id];
    piezas+=prod.piezas*carrito[id];
  }

  document.getElementById("totalDinero").innerText="Total: $"+total;
  document.getElementById("totalPiezas").innerText="Total de piezas: "+piezas;
}

function enviarPedido(){
  if(Object.keys(carrito).length===0){
    alert("Agreg√° algo al pedido");
    return;
  }

  let mensaje="Hola Stella Maris Sushi üç£\n\nQuiero pedir:\n\n";

  let sushi="";
  let extras="";
  let total=0;
  let piezas=0;

  for(let id in carrito){
    const prod=productos.find(p=>p.id===id);
    const cantidad=carrito[id];
    total+=prod.precio*cantidad;
    piezas+=prod.piezas*cantidad;

    if(prod.tipo==="sushi"){
      sushi+=`${cantidad}x ${prod.nombre} x${prod.piezas} ‚Äì ${prod.piezas*cantidad} piezas\n`;
    }else{
      extras+=`${cantidad}x ${prod.nombre}\n`;
    }
  }

  mensaje+="üç£ Sushi:\n"+sushi+"\n";
  if(extras!==""){
    mensaje+="ü•£ Salsas y adicionales:\n"+extras+"\n";
  }

  mensaje+=`Total de piezas: ${piezas}\n`;
  mensaje+=`Total: $${total}\n\n`;
  mensaje+="Retiro en el local.";

  window.open(`https://wa.me/${whatsapp}?text=${encodeURIComponent(mensaje)}`);
}

render();
</script>

</body>
</html>
